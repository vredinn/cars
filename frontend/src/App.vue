<template>
  <svg class="hidden" xmlns="http://www.w3.org/2000/svg">
    <symbol id="icon_login" viewBox="0 0 15 15">
      <path d="M7.5 8.45C5.23 8.45 3.5 8.96 2.3 10C1.1 11.03 0.5 12.51 0.5 14.45C0.5 14.61 0.55 14.75 0.67 14.85C0.79 14.95 0.91 15 1.04 15L13.95 15C14.08 15 14.2 14.95 14.32 14.85C14.44 14.75 14.5 14.61 14.5 14.45C14.5 12.51 13.9 11.03 12.7 10C11.5 8.96 9.76 8.45 7.5 8.45ZM1.65 13.9C1.85 11 3.8 9.54 7.5 9.54C11.2 9.54 13.15 11 13.35 13.9L1.65 13.9ZM7.5 0C6.83 0 6.21 0.15 5.65 0.47C5.08 0.79 4.64 1.23 4.32 1.79C4 2.36 3.85 3 3.85 3.7C3.85 4.39 4.01 5.05 4.35 5.67C4.68 6.29 5.12 6.77 5.67 7.12C6.22 7.47 6.83 7.64 7.5 7.64C8.16 7.64 8.77 7.47 9.32 7.12C9.87 6.77 10.31 6.29 10.65 5.67C10.98 5.05 11.15 4.39 11.15 3.7C11.15 3 10.99 2.36 10.67 1.79C10.35 1.23 9.91 0.79 9.35 0.47C8.78 0.15 8.16 0 7.5 0ZM7.5 6.54C6.8 6.54 6.2 6.27 5.7 5.72C5.2 5.17 4.94 4.5 4.94 3.72C4.94 2.94 5.19 2.3 5.67 1.82C6.15 1.34 6.76 1.1 7.5 1.1C8.23 1.1 8.84 1.35 9.32 1.85C9.8 2.35 10.05 2.98 10.05 3.75C10.05 4.51 9.8 5.17 9.3 5.72C8.8 6.27 8.2 6.54 7.5 6.54Z"/>
    </symbol>
    <symbol id="icon_search" viewBox="0 0 15 15">
      <path d="M7.3 1.27C6.2 1.27 5.2 1.54 4.29 2.07C3.38 2.61 2.65 3.34 2.1 4.26C1.55 5.19 1.28 6.19 1.28 7.27C1.28 8.36 1.55 9.36 2.1 10.29C2.65 11.21 3.38 11.94 4.29 12.48C5.2 13.01 6.2 13.28 7.3 13.28C7.98 13.28 8.64 13.16 9.28 12.93C9.92 12.7 10.5 12.39 11.04 12L13.54 14.45C13.65 14.59 13.8 14.66 14 14.66C14.19 14.66 14.35 14.6 14.48 14.48C14.6 14.35 14.66 14.19 14.66 14C14.66 13.8 14.59 13.65 14.45 13.54L12 11.04C12.39 10.5 12.7 9.91 12.93 9.27C13.16 8.63 13.28 7.98 13.28 7.3C13.28 6.2 13.01 5.19 12.48 4.26C11.94 3.34 11.21 2.61 10.29 2.07C9.36 1.54 8.37 1.27 7.3 1.27ZM7.3 2.61C8.16 2.61 8.94 2.82 9.65 3.25C10.36 3.67 10.92 4.24 11.33 4.95C11.74 5.67 11.94 6.44 11.94 7.27C11.94 8.11 11.74 8.89 11.33 9.62C10.92 10.35 10.36 10.92 9.65 11.33C8.94 11.74 8.16 11.94 7.3 11.94C6.45 11.94 5.67 11.74 4.96 11.33C4.24 10.92 3.68 10.35 3.25 9.62C2.82 8.89 2.61 8.11 2.61 7.27C2.61 6.44 2.82 5.67 3.25 4.95C3.68 4.24 4.24 3.67 4.96 3.25C5.67 2.82 6.45 2.61 7.3 2.61Z"/>
    </symbol>
    <symbol class=" flex justify-center" id="icon_favorite" viewBox="0 0 9.36035 12">
      <path id="Vector" d="M8.08 12C7.83 12 7.61 11.93 7.4 11.8L4.79 10.16C4.71 10.1 4.63 10.1 4.55 10.16L1.95 11.8C1.71 11.96 1.45 12.02 1.16 11.98C0.86 11.94 0.61 11.82 0.4 11.64C0.13 11.4 0 11.09 0 10.72L0 1.28C0 0.93 0.12 0.63 0.37 0.38C0.63 0.12 0.93 0 1.28 0L8.08 0C8.42 0 8.72 0.12 8.98 0.38C9.23 0.63 9.36 0.93 9.36 1.28L9.36 10.72C9.36 11.06 9.23 11.36 8.98 11.62C8.72 11.87 8.42 12 8.08 12ZM4.67 9.07C4.91 9.07 5.14 9.14 5.36 9.28L7.95 10.92C7.98 10.94 8.02 10.96 8.08 10.96C8.13 10.96 8.17 10.94 8.21 10.9C8.25 10.86 8.28 10.8 8.28 10.72L8.28 1.28C8.28 1.2 8.25 1.14 8.21 1.1C8.17 1.05 8.13 1.04 8.08 1.04L1.28 1.04C1.22 1.04 1.17 1.05 1.13 1.1C1.09 1.14 1.08 1.2 1.08 1.28L1.08 10.72C1.08 10.8 1.11 10.86 1.17 10.92C1.24 10.97 1.32 10.97 1.4 10.92L4 9.28C4.21 9.14 4.44 9.07 4.67 9.07Z"/>      
    </symbol>
    <symbol class=" flex justify-center" id="icon_chat" viewBox="0 0 16 16">
      <g>
        <path class="st0" d="M8,15.4H1.3c-0.4,0-0.8-0.3-0.8-0.8V8c0-4.1,3.3-7.4,7.4-7.4c4.1,0,7.4,3.3,7.4,7.4
          C15.4,12.1,12.1,15.4,8,15.4z M2.1,13.9H8c3.3,0,5.9-2.7,5.9-5.9c0-3.3-2.7-5.9-5.9-5.9C4.7,2.1,2.1,4.7,2.1,8V13.9z"/>
        <path class="st0" d="M10.7,6.7h-6C4.2,6.7,3.9,6.4,3.9,6s0.3-0.8,0.8-0.8h6c0.4,0,0.8,0.3,0.8,0.8S11.1,6.7,10.7,6.7z"/>
        <path class="st0" d="M10.7,9.4h-6c-0.4,0-0.8-0.3-0.8-0.7c0-0.4,0.3-0.8,0.8-0.8h6c0.4,0,0.8,0.3,0.8,0.8
          C11.4,9.1,11.1,9.4,10.7,9.4z"/>
        <path class="st0" d="M8,12.1H4.7c-0.4,0-0.8-0.3-0.8-0.8s0.3-0.8,0.8-0.8H8c0.4,0,0.8,0.3,0.8,0.8S8.4,12.1,8,12.1z"/>
      </g>
    </symbol>
  </svg>

  <div id="app">
    <Header />
    <main>
      <router-view />
    </main>
    <Footer />
  </div>
</template>

<script setup>
import { onMounted, watch } from 'vue'
import { useRoute } from 'vue-router'
import { useAuthStore } from '@/stores/auth'
import { useFiltersStore } from '@/stores/filters'

import Header from '@/components/Header.vue'
import Footer from '@/components/Footer.vue'

const route = useRoute()
const auth = useAuthStore()
const filtersStore = useFiltersStore()


onMounted(() => {
  auth.fetchUser()
  filtersStore.loadAll()
})

watch(route, () => {
  window.scrollTo(0, 0)
})
</script>
